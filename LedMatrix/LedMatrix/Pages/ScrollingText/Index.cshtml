@page
@model LedMatrix.Pages.ScrollingText.IndexModel
@{
    ViewData["Title"] = "Index";
}

<h1>Scrolling Text</h1>
<div class="input-group"> 
    <div class="row">
        <label class="col-form-label mr-1">Enter text to scroll:</label>
        <input class="input-group-text" id="textToScroll" />
        <input class="btn" type="button" value="Submit" id="submitButton" />
    </div>
    <div class="row">
        <label class="col-form-label mx-1">Number of times to scroll:</label>
        <input class="input-group-text" id="iterations" type="number" value="1" min="1" />
    </div>
</div>

@section Scripts{ 
    <script>
        $(document).ready(function () {
            $('#submitButton').click(function () {
                let sendText = $('#textToScroll').val();
                $.ajax({
                    type: "POST",
                    url: "api/ScrollText",
                    contentType: "application/json",
                    data: JSON.stringify({
                        Text: sendText,
                        Iterations: parseInt($('#iterations').val()),
                    }),
                    dataType: "json",
                })
                .done(function (result) {
                    console.log(result);
                });
            });
        });
    </script>
}

